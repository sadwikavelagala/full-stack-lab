<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Functions and Events</title>
</head>
<body>
  <h2>Enter a Number</h2>
  <input type="number" id="numberInput" />
  <br /><br />
  <button onclick="displayFactorial()">Factorial</button>
  <button onclick="displayFibonacci()">Fibonacci</button>
  <button onclick="displayPrimes()">Prime Numbers</button>
  <button onclick="displayPalindrome()">Palindrome?</button>

  <h3>Result:</h3>
  <div id="result"></div>

  <script>
    function factorial(n) {
      if (n < 0) return -1;
      let fact = 1;
      for (let i = 2; i <= n; i++) fact *= i;
      return fact;
    }

    function fibonacci(n) {
      let fib = [0, 1];
      for (let i = 2; i < n; i++) {
        fib[i] = fib[i - 1] + fib[i - 2];
      }
      return fib.slice(0, n);
    }

    function isPrime(num) {
      if (num < 2) return false;
      for (let i = 2; i <= Math.sqrt(num); i++) {
        if (num % i === 0) return false;
      }
      return true;
    }

    function primesUpTo(n) {
      let primes = [];
      for (let i = 2; i <= n; i++) {
        if (isPrime(i)) primes.push(i);
      }
      return primes;
    }

    function isPalindrome(num) {
      let str = num.toString();
      let reversed = str.split('').reverse().join('');
      return str === reversed;
    }

    function getInput() {
      return parseInt(document.getElementById('numberInput').value);
    }

    function displayFactorial() {
      let num = getInput();
      if (isNaN(num) || num < 0) {
        document.getElementById('result').textContent = 'Enter a valid non-negative number';
        return;
      }
      document.getElementById('result').textContent = `Factorial of ${num} is ${factorial(num)}`;
    }

    function displayFibonacci() {
      let num = getInput();
      if (isNaN(num) || num <= 0) {
        document.getElementById('result').textContent = 'Enter a valid positive number';
        return;
      }
      document.getElementById('result').textContent = `Fibonacci series up to ${num}: ${fibonacci(num).join(', ')}`;
    }

    function displayPrimes() {
      let num = getInput();
      if (isNaN(num) || num < 2) {
        document.getElementById('result').textContent = 'Enter a number greater than or equal to 2';
        return;
      }
      document.getElementById('result').textContent = `Prime numbers up to ${num}: ${primesUpTo(num).join(', ')}`;
    }

    function displayPalindrome() {
      let num = getInput();
      if (isNaN(num)) {
        document.getElementById('result').textContent = 'Enter a valid number';
        return;
      }
      let message = isPalindrome(num) ? `${num} is a palindrome` : `${num} is not a palindrome`;
      document.getElementById('result').textContent = message;
    }
  </script>
</body>
</html>
